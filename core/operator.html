

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Operators &mdash; TMAC 0.2.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="TMAC 0.2.1 documentation" href="../index.html"/>
        <link rel="up" title="Core functionality" href="../core.html"/>
        <link rel="next" title="Splitting schemes" href="splitting.html"/>
        <link rel="prev" title="Linear algebra" href="algebra.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> TMAC
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../build.html">Download and install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../core.html">Core functionality</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ds_vec.html">Dense vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sp_vec.html">Sparse vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ds_mtx.html">Dense matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="sp_mtx.html">Sparse matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="algebra.html">Linear algebra</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#proximal-operator">Proximal operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#projection-operator">Projection operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forward-operator">Forward operator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="splitting.html">Splitting schemes</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller.html">Controller</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../optimization.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../equations.html">Equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute to TMAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io.html">Input/output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">TMAC</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../core.html">Core functionality</a> &raquo;</li>
      
    <li>Operators</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/core/operator.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="operators">
<h1>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h1>
<p>We provide a total of 17 coordinate friendly operators. We categorize them into three classes: proximal operator, projection operator, and forward operator. The following is the general structure for the operators. You can use it as a template to add more operators.</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OperatorInterface</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">virtual</span> <span class="kt">double</span> <span class="k">operator</span><span class="p">()</span> <span class="p">(</span><span class="n">Vector</span><span class="o">*</span> <span class="n">v</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">double</span> <span class="k">operator</span><span class="p">()</span> <span class="p">(</span><span class="kt">double</span> <span class="n">val</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="k">operator</span><span class="p">()</span> <span class="p">(</span><span class="n">Vector</span><span class="o">*</span> <span class="n">v_in</span><span class="p">,</span> <span class="n">Vector</span><span class="o">*</span> <span class="n">v_out</span><span class="p">)</span> <span class="p">{}</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="n">update_step_size</span><span class="p">(</span><span class="kt">double</span> <span class="n">step_size_</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">update_cache_vars</span><span class="p">(</span><span class="kt">double</span> <span class="n">old_x_i</span><span class="p">,</span> <span class="kt">double</span> <span class="n">new_x_i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">update_cache_vars</span><span class="p">(</span><span class="n">Vector</span><span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rank</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_threads</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>In general, each operator struct has three overloaded parenthesis operator: one takes a scalar; one takes a scalar and an index then applys the coordinate update; one takes an input vector and a output vector, then perform full update to the input vector and saves the results in the output vector. Default contructor and customized contructors are also provided. If an operator involves data, the point to the data should be added as an member variable.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some operator requires intermediate variable in order to perform cheap coordinate update. Most of the examples can be found in the plemented forward operators.</p>
</div>
<div class="section" id="proximal-operator">
<h2>Proximal operator<a class="headerlink" href="#proximal-operator" title="Permalink to this headline">¶</a></h2>
<p>The following table summarizes the implemented proximal operators.</p>
<a class="reference internal image-reference" href="../_images/proximal.png"><img alt="../_images/proximal.png" class="align-center" src="../_images/proximal.png" style="width: 500px;" /></a>
</div>
<div class="section" id="projection-operator">
<h2>Projection operator<a class="headerlink" href="#projection-operator" title="Permalink to this headline">¶</a></h2>
<p>The following table summarizes the implemented projection operators.</p>
<a class="reference internal image-reference" href="../_images/projection.png"><img alt="../_images/projection.png" class="align-center" src="../_images/projection.png" style="width: 500px;" /></a>
</div>
<div class="section" id="forward-operator">
<h2>Forward operator<a class="headerlink" href="#forward-operator" title="Permalink to this headline">¶</a></h2>
<p>The following table summarizes the implemented forward operators. They are essentially operators perform a (coordinate )gradient descent step for some smooth functions.</p>
<a class="reference internal image-reference" href="../_images/forward.png"><img alt="../_images/forward.png" class="align-center" src="../_images/forward.png" style="width: 500px;" /></a>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="splitting.html" class="btn btn-neutral float-right" title="Splitting schemes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="algebra.html" class="btn btn-neutral" title="Linear algebra" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.2.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>